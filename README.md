# PaymentSystem
Простой backend-сервис на Django, имитирующий обработку webhook от банка. Принимает платежи, защищается от дублей, обновляет баланс организации по ИНН и логирует изменения.

## Функционал
- "POST /api/webhook/bank/"
  Принимает JSON с платежом. Если `operation_id` уже обработан — возвращает 200 OK без изменений. Иначе создаёт Payment, обновляет баланс организации и логирует изменение.

- "GET /api/organizations/<inn>/balance/"
  Возвращает текущий баланс организации по ИНН.

### Технологии
Python 3.9, Django 4.2.17, MySQL, Django REST Framework.

#### Структура
- Модели: Organization, Payment, BalanceLog
- Сериализаторы для валидации и вывода данных
- Представления API с использованием сервисного слоя
- Сервисный слой с атомарной обработкой платежей и защитой от дублей
- Тесты покрывают основные сценарии
